@model IEnumerable<Flight>
@{
    ViewBag.Title = "Admin Home";
}
<h3 class="text-center mt-4 mb-4">Welcome to Admin Dashboard!</h3>
<div class="d-flex justify-content-center gap-2">
    <a asp-controller="admin" asp-action="CreateFlight" class="btn btn-custom-primary text-uppercase">
        Create Flight +
    </a>
    <a asp-controller="admin" asp-action="CreateRole" class="btn btn-custom-primary text-uppercase">
        Create Role +
    </a>
    <a asp-controller="admin" asp-action="ListRoles" class="btn btn-custom-primary text-uppercase">
        List of roles
    </a>
</div>
<div class="container">


    <div class="tab-content mt-3" id="flightTabsContent">
        @if (TempData["Error"] != null)
        {
            <div class="alert alert-danger">@TempData["Error"]</div>
        }
        @{
            foreach (var flight in Model)
            {
                <div class="card mb-3 rounded-5">
                    <div class="card-body">
                        <div class="d-flex align-items-center justify-content-between">
                            <!-- Left: Departure City & Time -->
                            <div class="text-center">
                                <span class="text-secondary fs-6">@flight.DepartureTime</span>
                                <div class="city">@flight.OriginAirport.AirportName</div>
                                <span class="text-secondary fs-6">@flight.OriginAirport.City, @flight.OriginAirport.Country</span>
                            </div>

                            <!-- Arrow Container -->
                            <div class="arrow-container"></div>

                            <!-- Right: Arrival City & Time -->
                            <div class="text-center">
                                <span class="text-secondary fs-6">@flight.ArrivalTime</span>
                                <div class="city">@flight.DestinationAirport.AirportName</div>
                                <span class="text-secondary fs-6">@flight.DestinationAirport.City, @flight.DestinationAirport.Country</span>
                            </div>
                        </div>
                        <!-- Flight Number in the Middle -->
                        <div class="d-flex flex-column gap-3 gap-md-0 flex-md-row align-items-center justify-content-between mt-3">
                            <div class="text-start">
                                <img src="~/images/logo.png" width="20" height="20" asp-append-version="true" />
                                <span class="text-secondary">@flight.Aircraft.Model, @flight.Aircraft.Manufacturer</span>
                            </div>
                            <div class="d-flex justify-content-center gap-2">
                                <a asp-controller="admin" asp-action="details" asp-route-FlightId="@flight.FlightId" class="btn btn-custom-secondary text-uppercase">
                                    View
                                </a>
                                <a asp-controller="admin" asp-action="editflight" asp-route-FlightId="@flight.FlightId" class="btn btn-custom-primary text-uppercase">
                                    Edit
                                </a>
                                <form asp-controller="Admin" asp-action="DeleteFlight" asp-route-FlightId="@flight.FlightId" method="post" class="d-inline">
                                    <button type="submit" class="btn btn-custom-primary bg-danger text-uppercase">Delete</button>
                                </form>
                            </div>
                            <div class="d-flex justify-content-end">
                                <div class="text-end align-items-center">
                                    <span>Rs:</span>
                                    <span class="fw-bold fs-2" style="color:#006D5B">@flight.Price</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            }
        }
    </div>
</div>

<script>
    $(document).ready(function () {
        // Hover effect: Add/remove background color on hover
        $("div.card").on("mouseenter", function () {
            $(this).addClass("bg-light");  // Adds a light background on hover
        }).on("mouseleave", function () {
            $(this).removeClass("bg-light");  // Removes the background when hover ends
        });
    });
</script>
